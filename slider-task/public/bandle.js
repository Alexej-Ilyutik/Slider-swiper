(()=>{"use strict";const e=document.querySelector(".carousel"),t=document.querySelector(".slider-container"),n=document.querySelectorAll(".slider__image"),s=document.querySelector(".slider__prev"),a=document.querySelector(".slider__next"),i=document.querySelector(".slider__bullets"),l=n[0].cloneNode(!0),c=n[n.length-1].cloneNode(!0);t.appendChild(l),t.insertBefore(c,n[0]);const o=t.children;let d,r,u=1;function h(e,n){t.style.transform="translate(-"+n*d*e+"px)",r=n*d*e}function g(){d=e.offsetWidth,l.classList.add("firstClone"),l.style.width=d+"px",l.style.height="auto",c.classList.add("lastClone"),c.style.width=d+"px",c.style.height="auto",t.style.width=d*n.length+"px",n.forEach((e=>{e.style.width=d+"px",e.style.height="auto"})),h(1,u)}window.addEventListener("resize",g),window.addEventListener("load",g),g(),function(){for(let e=0;e<n.length;e++){let t=document.createElement("li");t.classList.add("bullet"),t.classList.add(e+1),i.append(t)}}();const f=document.querySelectorAll(".bullet");function L(){f.forEach((e=>{e.classList.remove("_active")})),0===u?f[n.length-1].classList.add("_active"):7===u?f[0].classList.add("_active"):f[u-1].classList.add("_active")}function v(e){e.target.classList.contains("bullet")&&(f.forEach((e=>{e.classList.remove("_active")})),h(e.target.classList[1],1),e.target.classList.add("_active"))}function p(){t.style.transition="0.4s ease-in-out"}function m(){u<=0||(p(),u=r/d,u--,h(1,u),L())}function _(){u>=o.length-1||(p(),u=r/d,u++,h(1,u),L())}L(),i.addEventListener("click",v),s.addEventListener("click",m),a.addEventListener("click",_),t.addEventListener("transitionend",(()=>{t.style.transition="none",o[u].classList.contains("lastClone")&&(u=o.length-2,h(1,u)),o[u].classList.contains("firstClone")&&(u=o.length-u,h(1,u))})),function(e){let t=e,n=0,s=0,a=0,i=0,l=0,c=0;function o(){c<=500&&Math.abs(a)>=50&&Math.abs(i)<=150&&(a>0?m():_())}t.addEventListener("mousedown",(function(e){n=e.pageX,s=e.pageY,l=(new Date).getTime(),e.preventDefault()})),t.addEventListener("mouseup",(function(e){a=e.pageX-n,i=e.pageY-s,c=(new Date).getTime()-l,o(),e.preventDefault()})),t.addEventListener("touchstart",(function(e){e.target.classList.contains("bullet")&&v(e),e.target.classList.contains("slider__btn")&&(e.target.classList.contains("slider__prev")?m():_());let t=e.changedTouches[0];n=t.pageX,s=t.pageY,l=(new Date).getTime(),e.preventDefault()})),t.addEventListener("touchmove",(function(e){e.preventDefault()})),t.addEventListener("touchend",(function(e){let t=e.changedTouches[0];a=t.pageX-n,i=t.pageY-s,c=(new Date).getTime()-l,o(),e.preventDefault()}))}(e)})();